install.packages("roxygen2")
library(roxygen2)
library(Matrix)
# data <- as.matrix(read.table('data.csv', sep = ','))
X= as.matrix(read.table('X.csv', sep = ','))
setwd("C:/Users/Peter Xu/Desktop/Research/Codes")
# data <- as.matrix(read.table('data.csv', sep = ','))
X= as.matrix(read.table('X.csv', sep = ','))
setwd("C:/Users/Peter Xu/Desktop/Research/Codes/ZIPFA")
save.image("C:/Users/Peter Xu/Desktop/Research/Codes/ZIPFA/data/X.RData")
library(ZIPFA)
library(ZIPFA)
remove.packages("ZIPFA", lib="~/R/win-library/3.4")
install.packages("C:/Users/Peter Xu/Desktop/Research/Codes/ZIPFA_0.8.0.tar.gz", repos = NULL, type = "source")
remove.packages("ZIPFA", lib="~/R/win-library/3.4")
install.packages("C:/Users/Peter Xu/Desktop/Research/Codes/ZIPFA_0.8.0.tar.gz", repos = NULL, type = "source")
library(ZIPFA)
View(cv_ZIPFA)
library(gomms)
data(gomms_test_data)
data(X)
View(X)
setwd("C:/Users/Peter Xu/Desktop/Research/Codes/ZIPFA")
X <- data(X)
ZIPFA(X, k = 3)
library(ZIPFA)
X <- data(X)
ZIPFA(X, k = 3)
X <- data(X)
data(X)
ZIPFA(X, k = 3)
library(roxygen2)
roxygenise(clean = TRUE)
roxygenise(clean = TRUE)
roxygenise(clean = TRUE)
roxygenise(clean = F)
setwd("C:/Users/Peter Xu/Desktop/Research/Codes/ZIPFA")
roxygenise(clean = TRUE)
detach("package:roxygen2", unload = TRUE)
library(roxygen2)
namespace_roclet()
roxygenize()
roxygenise()
roxygen2::roxygenise(clean = TRUE)
roxygen2::roxygenise(clean = TRUE, roclets='namespace')
library(roxygen2)
roxygen2::roxygenise(clean = TRUE, roclets='namespace')
library(devtools)
devtools::document()
library(devtools)
library(roxygen2)
devtools::document()
library(ZIPFA)
library(devtools)
document()
library(ZIPFA)
library(roxygen2)
roxygenise(clean = T)
roxygenise(clean = T)
library(ZIPFA)
data(X)
ZIPFA(X, k = 3)
library(ZIPFA)
detach("package:ZIPFA", unload = TRUE)
library(ZIPFA)
remove.packages("ZIPFA", lib="~/R/win-library/3.4")
library(ZIPFA)
library(ZIPFA)
roxygenise(clean = T)
library(roxygen2)
roxygenise(clean = T)
library(ZIPFA)
setwd("C:/Users/Peter Xu/Desktop/Research/Codes/ZIPFA")
library(ZIPFA)
library(ZIPFA)
library(ZIPFA)
n = 5000;
x1 = rnorm(n);
x2 = rnorm(n);
lam = exp(x1 - 2*x2 + 1.5);
y = rpois(n, lam)
tau = .75
p = 1/(1+lam^tau);
Z = rbinom(n, 1, p);
y[as.logical(Z)] = 0;
res = EMzeropoisson_mat(matrix(c(y,x1,x2),ncol=3), Madj = F, intercept = T)
data(X)
ZIPFA(X, k = 3)
library(ZIPFA)
library(ZIPFA)
library(ZIPFA)
library(ZIPFA)
library(ZIPFA)
library(ZIPFA)
library(ZIPFA)
library(roxygen2)
roxygenise(clean = T)
roxygenise(clean = T)
roxygenise(clean = T)
library(ZIPFA)
library(ZIPFA)
library(gomms)
library(ZIPFA)
library(ZIPFA)
library(ZIPFA)
library(ZIPFA)
library(quantreg)
message(sprintf('\n factor = %d; fold = %d; esttau = %.3g; Likelihood = %.5g; MLikelihood = %.4g \n',nf,rept,resfit$tau,resfit$Likelihood[length(resfit$Likelihood)],resfit$CVLikelihood[length(resfit$CVLikelihood)]))
message(sprintf('\n factor = %d; fold = %d; esttau = %.3g; Likelihood = %.5g; MLikelihood = %.4g \n',3,3,3)
)
message(sprintf('\n factor = %d; fold = %d; esttau = %.3g; Likelihood = %.5g; MLikelihood = %.4g \n',3,3,3,3))
message(sprintf('\n factor = %d; fold = %d; esttau = %.3g; Likelihood = %.5g; MLikelihood = %.4g \n',3,3,3,3,4))
message('Initialzing...')
message('Start maximizing... \n')
library(ZIPFA)
library(ZIPFA)
n = 5000;
x1 = rnorm(n);
x2 = rnorm(n);
lam = exp(x1 - 2*x2 + 1.5);
y = rpois(n, lam)
tau = .75
p = 1/(1+lam^tau);
Z = rbinom(n, 1, p);
y[as.logical(Z)] = 0;
res = EMzeropoisson_mat(matrix(c(y,x1,x2),ncol=3), Madj = FALSE, intercept = TRUE)
\donttest{
data(X)
ZIPFA(X, k = 3)}
data(X)
ZIPFA(X, k = 3)
cv_ZIPFA(X, fold = 10, k = c(3,4))
library(ZIPFA)
library(ZIPFA)
install.packages("testthat")
library(ZIPFA)
library(ZIPFA)
data(X)
cv_ZIPFA(X, fold = 10, k = c(3,4)
)
setwd("F:/Gen/Lubna")
setwd("F:/Gen/Lubna")
load("C:/Users/Peter Xu/Desktop/ZIPFA1/data/X_DESKTOP-CUMC_Jul-07-193341-2021_CaseConflict.RData")
library(optmatch)
simu_dat <- data.frame(id = rep(1:100, 5), trt = 1, X1 = rnorm(500, 0, 1), X2 = rbinom(500,3,0.5))
View(simu_dat)
simu_dat <- data.frame(id = rep(1:100, each=5), trt = 1, X1 = rnorm(500, 0, 1), X2 = rbinom(500,3,0.5))
simu_dat <- data.frame(id = rep(1:100, each=5), trt = 0, X1 = rnorm(500, 0, 1), X2 = rbinom(500,3,0.5))
View(simu_dat)
simu_dat <- data.frame(id = as.character(rep(1:100, each=5)), trt = 0, X1 = rnorm(500, 0, 1), X2 = rbinom(500,3,0.5))
simu_dat <- data.frame(id = as.character(rep(1:100, each=5)), trt = 0, X1 = rnorm(500, 0, 1), X2 = rbinom(500,3,0.3))
dat <- data.class((id = paste0('t',1:100), trt = 1, X1 = rnorm(500, 1, 1), X2 = rbinom(500,3,0.6)))
dat <- data.frame(id = paste0('t',1:100), trt = 1, X1 = rnorm(500, 1, 1), X2 = rbinom(500,3,0.6))
simu_dat <- rbind(simu_dat, dat)
View(simu_dat)
View(dat)
simu_dat <- data.frame(id = as.character(rep(1:100, each=5)), trt = 0, X1 = rnorm(500, 0, 1), X2 = rbinom(500,3,0.3))
dat <- data.frame(id = paste0('t',1:100), trt = 1, X1 = rnorm(100, 1, 1), X2 = rbinom(100,3,0.6))
simu_dat <- rbind(simu_dat, dat)
View(simu_dat)
save.image("C:/Users/Peter Xu/Desktop/ZIPFA1/data/simu_dat.RData")
library(rcbalance)
library(optmatch)
load("C:/Users/Peter Xu/Desktop/Snap/data/simu_dat.RData")
data <- simu_dat
View(data)
x <- trt~X1+X2
id='id'
source('C:/Users/Peter Xu/Desktop/Snap/R/Matching.R')
source('C:/Users/Peter Xu/Desktop/Snap/R/Matching.R')
debugSource('C:/Users/Peter Xu/Desktop/Snap/R/Matching.R')
debugSource('C:/Users/Peter Xu/Desktop/Snap/R/Matching.R')
debugSource('C:/Users/Peter Xu/Desktop/Snap/R/Matching.R')
source('C:/Users/Peter Xu/Desktop/Snap/R/Matching.R')
library(roxygen2)
roxygen2::roxygenise()
library(roxygen2)
roxygen2::roxygenise()
install.packages("testthat")
install.packages("testthat")
install.packages("testthat")
library(optmatch)
